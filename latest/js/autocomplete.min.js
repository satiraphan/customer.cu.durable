function autocomplete(e,t){let n;function i(e){if(!e)return!1;!function(e){[...e].map(e=>e.classList.remove("active"))}(e),n>=e.length&&(n=0),n<0&&(n=e.length-1),e[n].classList.add("active")}function s(t){[...document.getElementsByClassName("autocomplete-items")].map(n=>t!=n&&t!=e?n.remove():"")}e.addEventListener("input",(function(){let i,a,o,r=this.value;if(s(),!r)return!1;if(n=-1,t.filter(e=>e.toUpperCase().startsWith(r.toUpperCase())).length){i=document.createElement("div"),i.setAttribute("id",this.id+"autocomplete-list"),i.setAttribute("class","dropdown-menu autocomplete-items show"),this.insertAdjacentElement("afterend",i);const n=window.getComputedStyle(e).marginBottom.replace("px",""),l=window.getComputedStyle(i).marginTop.replace("px","");for(i.style.marginTop=-(n-l)+"px",i.addEventListener("mousedown",e=>e.preventDefault()),o=0;o<t.length;o++)t[o].substr(0,r.length).toUpperCase()==r.toUpperCase()&&(a=document.createElement("a"),a.setAttribute("class","dropdown-item"),a.setAttribute("href","#"),a.setAttribute("tabindex","-1"),a.innerHTML=`<strong>${t[o].substr(0,r.length)}</strong>`,a.innerHTML+=t[o].substr(r.length),a.innerHTML+=`<input type="hidden" value="${t[o]}">`,a.addEventListener("mousedown",e=>e.preventDefault()),a.addEventListener("click",(function(t){e.value=this.getElementsByTagName("input")[0].value,s(),t.preventDefault()})),i.appendChild(a))}})),e.addEventListener("keydown",(function(e){var t=document.getElementById(this.id+"autocomplete-list");t&&(t=t.getElementsByTagName("a")),40==e.keyCode?(n++,i(t)):38==e.keyCode?(n--,i(t)):13==e.keyCode&&(n>-1&&t&&t[n].click(),e.preventDefault())})),document.addEventListener("click",e=>s(e.target))}