const starRating=(t,e={})=>{if(!t)return!1;t.previousElementSibling&&t.previousElementSibling.classList.contains("star-rating")&&t.previousElementSibling.remove();t.setAttribute("hidden",!0),t.value=t.value>5?5:t.value;const a=e.size||t.dataset.starRatingSize||24,i=5*a,s=20*t.value;t.insertAdjacentHTML("beforebegin",`<div class="star-rating"><div class="star-rating-value" style="width: ${s}%" data-star-rating-width="${s}%"></div></div>`);const n=t.previousSibling,l=n.getElementsByClassName("star-rating-value")[0];if(n.style.width=i+"px",n.style.height=a+"px",n.style.backgroundSize=a+"px",l.style.backgroundSize=a+"px",t.readOnly&&(n.style.cursor="auto"),!1===t.readOnly){const e=t=>{const e=t.target.getBoundingClientRect(),a=(t.clientX-e.left)/n.offsetWidth*100;return 10*Math.ceil(Math.ceil(a)/10)+"%"},a=()=>{const e=l.dataset.starRatingWidth.replace("%","")/20;t.value!=e&&(t.value=e,t.setAttribute("value",e),t.dispatchEvent(new Event("change")))};n.addEventListener("mousemove",t=>l.style.width=e(t)),n.addEventListener("mouseleave",()=>l.style.width=l.dataset.starRatingWidth),n.addEventListener("click",t=>{l.dataset.starRatingWidth=e(t),a()})}};
